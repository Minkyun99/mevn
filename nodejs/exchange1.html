
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>달러를 원화로</title>
    <script></script>
    <script>
      document.addEventListener('DOMContentLoaded', () => {
        const einput = document.createElement('input')
        const espan = document.createElement('span')
        const ebutton = document.createElement('button')
        const ep = document.createElement('p')
        document.body.append(einput, espan, ebutton, ep)
        ebutton.innerHTML = '계산'
        espan.innerHTML = ' 달러  '

        ebutton.addEventListener('click', () => {
          let mydata
          const dollar = Number(einput.value)
          if (isNaN(dollar)) {
            ep.textContent = '숫자를 입력하세요'
            return // 조기리턴 : 이것 이후에는 빠른 종료 하겠다는 의지
          }
          const url =
            'https://quotation-api-cdn.dunamu.com/v1/forex/recent?codes=FRX.KRWUSD'
          fetch(url)
            .then((response) => response.json())
            .then((data) => {
              mydata = dollar * data[0].basePrice
              ep.textContent = `${mydata.toLocaleString('ko-KR')} 원`
            })
          // })
          // }
        })
      })
    </script>
  </head>
  <body></body>
</html>
